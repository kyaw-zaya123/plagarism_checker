{% extends "base.html" %}

{% block content %}
<div class="login-container">
    <h2>Login</h2>
    <form method="POST" class="login-form">
        <div class="form-group">
            <label for="username" class="rainbow-text">Username</label>
            <input
              class="form-control"
              id="username"
              name="username"
              type="text"
              placeholder="Enter your username"
              required
            />
        </div>
        <div class="form-group">
            <label for="email" class="rainbow-text">Email</label>
            <input
              class="form-control"
              id="email"
              name="email"
              type="email"
              placeholder="Enter your email"
              required
            />
        </div>
        <div class="form-group password-container">
            <label for="password" class="rainbow-text">Password</label>
            <input
              class="form-control"
              id="password"
              name="password"
              type="password"
              placeholder="Enter your password"
              required
            />
            <span class="password-toggle" onclick="togglePassword()">
                <i class="fa fa-eye"></i>
            </span>
        </div>
        <div class="form-group">
            <button class="btn btn-primary btn-block rainbow-button" type="submit">Login</button>
        </div>
        <p>Don't have an account? <a href="{{ url_for('register') }}">Register here</a></p>
    </form>
</div>
{% endblock %}

{% block extra_css %}
<style>
.login-container {
    width: 400px; 
    margin: 55px auto; 
    padding: 20px;
    background-color: #f9f9f9;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(73, 102, 108, 0.1);
}

.form-group {
    margin-bottom: 15px;
}

.form-control {
    width: 100%;
    padding: 8px;
    border: 1px solid #ccc;
    border-radius: 4px;
}

.btn-block {
    width: 100%;
}

.password-container {
    position: relative;
}

.password-toggle {
    position: absolute;
    right: 10px;
    top: 73%;
    transform: translateY(-50%);
    cursor: pointer;
}

.password-toggle i {
    color: #b947ae;
}

.rainbow-text {
    background-image: linear-gradient(270deg, red, orange, yellow, green, blue, indigo, violet);
    background-size: 400%;
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    animation: rainbow-animation 10s ease infinite;
}

.rainbow-button {
    background-image: linear-gradient(270deg, red, orange, yellow, green, blue, indigo, violet);
    background-size: 400%;
    color: white;
    border: none;
    border-radius: 4px;
    padding: 10px;
    transition: background-position 0.5s ease;
    animation: rainbow-animation 10s ease infinite;
}

/* Animation keyframes for running colors */
@keyframes rainbow-animation {
    0% { background-position: 0% 50%; }
    100% { background-position: 100% 50%; }
}

</style>
{% endblock %}

{% block extra_js %}
<script>
function togglePassword() {
    var passwordInput = document.getElementById('password');
    var passwordToggle = document.querySelector('.password-toggle i');
    
    if (passwordInput.type === 'password') {
        passwordInput.type = 'text';
        passwordToggle.classList.remove('fa-eye');
        passwordToggle.classList.add('fa-eye-slash');
    } else {
        passwordInput.type = 'password';
        passwordToggle.classList.remove('fa-eye-slash');
        passwordToggle.classList.add('fa-eye');
    }
}
</script>
{% endblock %}
